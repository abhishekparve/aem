<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
     data-sly-call="${templates.placeholder @ isEmpty = true}"></sly>

<sly data-sly-use.productsModel="com.bdb.aem.core.models.PopularAndRecommendedProductsModel"></sly>

<script>

	if (typeof window.AEM_DATA === 'undefined') {
		  window.AEM_DATA = {};
	}
	if (typeof window.AEM_DATA.labels === 'undefined') {
            window.AEM_DATA.labels = {};
    }

	if (typeof window.AEM_DATA.config === 'undefined') {
            window.AEM_DATA.config = {};
    }

	if (typeof window.AEM_DATA.labels.plpSearchResultsContainerLabels === 'undefined') {
            window.AEM_DATA.labels.plpSearchResultsContainerLabels = {};
    }

	window.AEM_DATA.labels.recommendedProductsLabels  = ${ productsModel.productLabelJson @context='scriptComment' };
	window.AEM_DATA.config.recommendedProductsConfig = ${ productsModel.recommendedConfigJson @context='scriptComment' };
	window.AEM_DATA.config.alsoViewedProductsConfig = ${ productsModel.alsoViewedConfig @context='scriptComment' };
	window.AEM_DATA.config.alsoViewedProductsConfigDesktop = ${ productsModel.alsoViewedConfigDesktop @context='scriptComment' };
	window.AEM_DATA.labels.alsoViewed = ${ productsModel.alsoViewedLables @context='scriptComment' };
	window.AEM_DATA.labels.plpSearchResultsContainerLabels.popularProductsLabels  = ${ productsModel.popularProductsLabelsJson @context='scriptComment' };

</script>
<bd-also-viewed labels="alsoViewed" config="alsoViewedProductsConfigDesktop"></bd-also-viewed>
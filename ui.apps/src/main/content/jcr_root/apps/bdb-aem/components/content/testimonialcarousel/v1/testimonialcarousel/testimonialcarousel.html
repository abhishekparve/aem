<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
     data-sly-call="${templates.placeholder @ isEmpty = true}"></sly>
<sly data-sly-use.testimonialCarouselModel="com.bdb.aem.core.models.TestimonialCarouselModel"></sly>
<article class="testimonial" id="${testimonialCarouselModel.articleId}">
    <div class="container d-none d-sm-flex justify-content-between testimonial__navigators">
        <div class="testimonial__navigators-prev ml-3">
            <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/slide-prev.svg"
                class="bdb-testimonial-prev" alt="prev" tabindex="0">
        </div>
        <div class="testimonial__navigators-next mr-3">
            <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/slide-next.svg"
                class="bdb-testimonial-next" alt="next" tabindex="0">
        </div>
    </div>
    <div class="app-js__testimonial container px-0" data-autoplay="${testimonialCarouselModel.disableAutoplay ? 'false' : 'true'}" data-autoplayspeed="${testimonialCarouselModel.autoplayspeed}">
        <sly data-sly-list.item="${testimonialCarouselModel.slides}">
			<div class="testimonial__banner" data-color="${item.fontColor}" data-font-weight="${item.fontStyle}" data-font-style="${item.fontStyle}" data-background-color="${item.bgColor}">
				<div class="testimonial__banner-text-wrapper row">
					<div class="testimonial__banner-text px-0 d-sm-none col-sm-7">
						<div class="col-12 testimonial__banner-text-desc bd-rte">
							${item.description @context='html'}
						</div>
					</div>
					<div class="testimonial__banner-img offset-sm-1 col-5 col-sm-4" data-toggle="modal" data-target="#bannerVideo-${itemList.index}">
						<picture class="custom-picture">
						<sly data-sly-test="${item.imageLinkUrl}">
							<a href="${item.imageLinkUrl}" target="${item.openNewImageLinkTab == 'true' ? '_blank' : '_self'}">
							   <img data-src="${item.imagePath}" alt="${item.altImage}" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null; this.src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/product-default.png";'  width="296" height="296">
							</a>
						</sly>
						<sly data-sly-test="${!item.imageLinkUrl}">
							   <img data-src="${item.imagePath}" alt="${item.altImage}" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null; this.src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/product-default.png";'  width="296" height="296">
						</sly>	
							<sly data-sly-test="${item.videoEnabled}" >
								<img class="play-button testimonial_play-btn" src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/playButton.svg" role="presentation">
							</sly>
						</picture>
						<div data-sly-test="${item.videoEnabled}" class="modal fade testimonial__banner__media__video-modal" id="bannerVideo-${itemList.index}" tabindex="-1" role="dialog" aria-labelledby="bannerVideoTitle" aria-hidden="true" data-backdrop="static">
							<div class="modal-dialog modal-dialog-centered" role="document">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close testimonial__banner__media__video-modal-close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body testimonial__banner__media__video-modal-body is-video" data-accountId="${item.brightcoveAccountId}"
										data-playerId="${item.brightcovePlayerId}" data-videoId="${item.brightcoveVideoId}">
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="testimonial__banner-text col-7 px-0 col-sm-8">
						<div class="col-12 d-none d-sm-flex flex-column testimonial__banner-text-desc bd-rte">
							${item.description @context='html'}
						</div>
						<div class="col-12 testimonial__banner-text-info">
							<div data-sly-test="${item.pname}" class="testimonial__banner-text-name">${item.pname @context='html'}</div>
							<div data-sly-test="${item.department}" class="testimonial__banner-text-designation">${item.department @context='html'}</div>
							<div data-sly-test="${item.university}" class="testimonial__banner-text-inst">${item.university @context='html'}</div>
							<a data-sly-test="${item.ctaLabel}" class="testimonial__banner-cta-link" data-color="${item.ctaTxtColor}" data-background-color="${item.ctaBgColor}" tabindex="0" href="${item.ctaUrl}">${item.ctaLabel @context='html'}</a>
							<a data-sly-test="${item.extraCtaLabel}" class="testimonial__banner-cta-link" data-color="${item.ctaTxtColor}" data-background-color="${item.ctaBgColor}" tabindex="0" href="${item.extraCtaUrl}">${item.extraCtaLabel @context='html'}</a>
						</div>
					</div>
				</div>
			</div>
		</sly>
    </div>
    <div class="container d-flex justify-content-between align-items-center testimonial__navigators-mobile">
        <div class="testimonial__navigators-mobile-prev ml-3 d-sm-none">
            <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/prev-arrow-m.png"
                class="bdb-testimonial-prev" alt="prev" tabindex="0">
        </div>
        <div class="testimonial-slick-m-dots mx-auto">
        </div>
        <div class="testimonial__navigators-mobile-next mr-3 d-sm-none">
            <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/next-arrow-m.png"
                class="bdb-testimonial-next" alt="next" tabindex="0">
        </div>
    </div>
</article>
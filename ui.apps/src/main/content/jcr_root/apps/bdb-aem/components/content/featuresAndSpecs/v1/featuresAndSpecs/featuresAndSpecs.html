<sly data-sly-use.templates="core/wcm/components/commons/v1/templates.html"
     data-sly-call="${templates.placeholder @ isEmpty = true}"></sly>
<sly data-sly-use.featuresAndSpecsModel="com.bdb.aem.core.models.FeaturesAndSpecsModel"></sly>

    <article class="instrument-specs app-js__instrument-specs ${properties.greyBackgroundVariation?'grey-background':'white'}" 
        id="${featuresAndSpecsModel.articleId || resource.path.hashCode}">
        <div class="instrument-specs__heading container d-flex justify-content-between align-items-center mb-3">
            <p class="instrument-specs__section-heading justify-content-start mb-0">${featuresAndSpecsModel.sectionTitle}</p>
            <div class="instrument-specs__controls justify-content-end">
                <button class="instrument-specs__controls_left-arrow disable "></button>
                <button class="instrument-specs__arrow-left-grey "></button>
                <span class="instrument-specs__controls_slide-number"></span>
                <button class="instrument-specs__arrow-right-grey disable"></button>
                <button class="instrument-specs__controls_right-arrow "></button>
            </div>
        </div>
        <div class="instrument-specs__container container ${featuresAndSpecsModel.sectionAlign}">
            <div class="instrument-specs__carousel">
                <sly data-sly-list.item="${featuresAndSpecsModel.slides}">
                    <div class="instrument-specs__carousel-slide d-flex  ${item.isLargeImage ? 'is-large-image' : ''}">
                        
                        <sly data-sly-test="${item.modalImgFlag !='true'}">
                            <div data-sly-test="${item.imagePath || item.imagePathMobile}" class="instrument-specs__carousel-slide_image-section d-none d-lg-block ${item.borderEnable == 'false' ? '' : 'enable-border'}">
                                <div class="d-flex align-items-center justify-content-center position-relative">
                                    <picture>
                                        <source media="(max-width: 900px)"  srcset="${item.imagePathMobile}"  onload="window.aos && window.aos.refresh()">
                                        <a href="${item.imageLinkUrl}" target="${item.openNewImageLinkTab == 'true' ? '_blank' : '_self'}"> 
										<sly data-sly-test="${item.imageLinkUrl}">
										<img data-src="${item.imagePath}" alt="${item.altText}" class="${item.backgroundColorImage} lazy" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null;this.src="/resources/images/product-default.png";'>
                                    </picture>
									   </a>
										<sly data-sly-test="${!item.imageLinkUrl}">
										<img data-src="${item.imagePath}" alt="${item.altText}" class="${item.backgroundColorImage} lazy" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null;this.src="/resources/images/product-default.png";'>
                                </div>
                            </div>
                        </sly>
                        <sly data-sly-test="${item.modalImgFlag =='true'}">
                            <div data-sly-test="${item.imagePath || item.imagePathMobile}" class="instrument-specs__carousel-slide_image-section d-none d-lg-block ${item.borderEnable == 'false' ? '' : 'enable-border'} normal-cursor" data-toggle="modal" data-target="#dynamicModal-${resource.path.hashCode}" data-title="${item.imageTitle}" data-desc="${item.imageDescription}" data-src="${item.enlargedImagePath}" data-alt="${item.enlargedImageAltText}" data-size="${item.imageEnlargeSize}">
                                <div class="d-flex align-items-center justify-content-center position-relative">
                                    <picture>
                                        <source media="(max-width: 900px)"  srcset="${item.imagePathMobile}"  onload="window.aos && window.aos.refresh()">
                                        <img data-src="${item.imagePath}" alt="${item.altText}" class="${item.backgroundColorImage} lazy" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null;this.src="/resources/images/product-default.png";'>
                                    </picture>
                                    <div data-sly-test="${item.modalImgFlag =='true'}" class="instrument-specs__carousel-slide-overlay">
                                        <div class="instrument-specs__zoom-icon">
                                            <sly data-sly-test="${featuresAndSpecsModel.magnifiyGlassColor == 'dark-blue'}">
	                                            <picture>
	                                                <source media="(max-width: 900px)" srcset="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/search-icon-M.svg" onload="window.aos && window.aos.refresh()">
	                                                <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/Search-icon-new.svg" alt="zoom-icon" onload="window.aos && window.aos.refresh()" style="border: none;" onerror='this.onerror=null;this.src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/product-default.png";'>
	                                            </picture>
                                            </sly>
                                            
                                            <sly data-sly-test="${featuresAndSpecsModel.magnifiyGlassColor == 'white'}">
	                                            <picture>
	                                                <source media="(max-width: 900px)" srcset="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/icon_zoom_white.svg" onload="window.aos && window.aos.refresh()">
	                                                <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/icon_zoom_white.svg" alt="zoom-icon" onload="window.aos && window.aos.refresh()" style="border: none;" onerror='this.onerror=null;this.src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/product-default.png";'>
	                                            </picture>
                                            </sly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </sly>
                            
                        <div class="instrument-specs__carousel-slide_content-section">
                            <div class="instrument-specs__carousel-slide_content-section_tile-section">
                                <div class="sitecontent">
                                    <h3 class="sitecontent__title">${item.slideTitle @context='html'}</h3>
                                    <p data-sly-test="${item.subTitle}" class="sitecontent__sub-title">${item.subTitle @context='html'}</p>
                                </div>
                            </div>
                            <sly data-sly-test="${item.modalImgFlag !='true'}">
                                <div data-sly-test="${item.imagePath || item.imagePathMobile}" class="d-lg-none ${item.borderEnable == 'false' ? '' : 'enable-border'}">
                                    <picture class="">
                                        <source media="(max-width: 900px)"  srcset="${item.imagePathMobile}"  onload="window.aos && window.aos.refresh()">
                                        <img src="${item.imagePath}" alt="${item.altText}" class="${item.backgroundColorImage}" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null;this.src="/resources/images/product-default.png";'>
                                    </picture>
                                </div>
                            </sly>
                            <sly data-sly-test="${item.modalImgFlag =='true'}">
                                <div data-sly-test="${item.imagePath || item.imagePathMobile}" class="d-lg-none ${item.borderEnable == 'false' ? '' : 'enable-border'} normal-cursor" data-toggle="modal" data-target="#dynamicModal-${resource.path.hashCode}" data-title="${item.imageTitle}" data-desc="${item.imageDescription}" data-src="${item.enlargedImagePath}" data-alt="${item.enlargedImageAltText}" data-size="${item.imageEnlargeSize}">
                                    <div class="position-relative">
                                        <picture class="">
                                            <source media="(max-width: 900px)"  srcset="${item.imagePathMobile}"  onload="window.aos && window.aos.refresh()">
                                            <img src="${item.imagePath}" alt="${item.altText}" class="${item.backgroundColorImage}" onload="window.aos && window.aos.refresh()" onerror='this.onerror=null;this.src="/resources/images/product-default.png";'>
                                        </picture>
                                        <div class="instrument-specs__carousel-slide-overlay">
                                            <div class="instrument-specs__zoom-icon">
                                                <sly data-sly-test="${featuresAndSpecsModel.magnifiyGlassColor == 'dark-blue'}">
                                                <picture>
                                                    <source media="(max-width: 900px)" srcset="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/search-icon-M.svg" onload="window.aos && window.aos.refresh()">
                                                    <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/Search-icon-new.svg" alt="zoom-icon" onload="window.aos && window.aos.refresh()" style="border: none;" onerror='this.onerror=null;this.src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/product-default.png";'>
                                                </picture>
                                                </sly>
                                                
                                                 <sly data-sly-test="${featuresAndSpecsModel.magnifiyGlassColor == 'white'}">
                                                 <picture>
                                                    <source media="(max-width: 900px)" srcset="//etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/icon_zoom_white.svg" onload="window.aos && window.aos.refresh()">
                                                    <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/icon_zoom_white.svg" alt="zoom-icon" onload="window.aos && window.aos.refresh()" style="border: none;" onerror='this.onerror=null;this.src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/images/product-default.png";'>
                                                </picture>
                                                </sly>
                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </sly>
                            <div class="instrument-specs__carousel-slide_content-section_description-section bd-rte">
                                ${item.description @context='html'}
                            </div>
                        </div>
                    </div>
                </sly>
            </div>
            <div class="instrument-specs__carousel_controls">
                <button class="instrument-specs__carousel_controls-prev" aria-label="button" id="${featuresAndSpecsModel.articleId || resource.path.hashCode}"></button>
                <button class="instrument-specs__carousel_controls-next enable" aria-label="button" id="${featuresAndSpecsModel.articleId || resource.path.hashCode}"></button>
            </div>
        </div>
        <article class="dynamic-modal app-js__dynamic-modal">
            <div class="modal" id="dynamicModal-${resource.path.hashCode}" tabindex="-1" role="dialog" aria-labelledby="dynamicModal" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/modalClose.svg" alt="close" />
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="dynamic-modal__image-container">
                                <img src="/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources/icons/blankimage.png" title="" alt="">
                            </div>
                            <div class="dynamic-modal__text-container">
                                <div class="dynamic-modal__text-container_title">
                                </div>
                            </div>
                             <div class="dynamic-modal__text-container bd-rte">
                                <div class="dynamic-modal__text-container_description bd-rte">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </article>
    </article>

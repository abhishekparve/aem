(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1028:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(2),c=a.n(o),l=a(808),s=a(3);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var f=function(e){var t=e.labels,a=e.confirm,o=t.title,c=t.subtitle,i=t.notHealthCareLabel,d=t.notGovtLabel,f=t.noGiftsPolicyLabel,g=t.rewardsTnCLabel,p=t.joinBdRewardsCTALabel,y={healthCare:{labels:{id:"healthCare",label:i},value:!1,clsName:""},govtLabel:{labels:{id:"govtLabel",label:d},value:!1,clsName:""},giftPolicy:{labels:{id:"giftPolicy",label:f},value:!1,clsName:""},rewardsTnC:{labels:{id:"rewardsTnC",label:g},value:!1,clsName:"rewardTnc"}},v=b(Object(n.useState)(y),2),E=v[0],h=v[1],C=E.healthCare.value&&E.govtLabel.value&&E.giftPolicy.value&&E.rewardsTnC.value;return r.a.createElement("div",{className:"rewardprogram__container"},r.a.createElement("div",{className:"rewardprogram__container-title"},o),r.a.createElement("div",{className:"rewardprogram__container-subtitle"},c),Object.keys(E).map((function(e){var t=E[e],a=t.clsName,n=t.value,o=t.labels;return r.a.createElement("div",{key:o.id,className:"reward-checkbox  ".concat(a)},r.a.createElement(l.a,{labels:o,value:n,handleOnChange:function(e){var t,a;t=e.currentTarget.checked,a=o.id,h(u(u({},E),{},m({},a,u(u({},E[a]),{},{value:t}))))}}))})),r.a.createElement("button",{type:"button",disabled:!C,className:"joinRewards btn btn-primary-blue btn-md",onClick:function(){return a(E)},tabIndex:0,onKeyDown:function(e){(e.keyCode||e.which)===s.a.ENTER_KEY_CODE&&a(E)}},p))};f.propTypes={labels:c.a.object.isRequired,confirm:c.a.func.isRequired},t.a=f},1029:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return u}));var n=a(107),r=a(3),o=a(15),c=a(14),l=a(12),s=a(25),i=function(e){return{type:n.a.REWARDS_ERRORS_ACTION,data:e}},u=function(e,t){return function(a,u){var m,b=(null===(m=u().userSession)||void 0===m?void 0:m.info).uid,d=u().userSession.regionDetails.country,f=Object(s.L)(),g=f&&(null!==f||void 0!==f),p="".concat(r.a.SITE_ID).concat(d.toUpperCase()),y=e.url.replace("{{userId}}",g?b:"anonymous").replace("{{siteId}}",p);return Object(o.a)(c.a.REWARDS_REGISTER),Object(l.a)({url:y,method:e.method,data:t,params:{customerId:b}}).then((function(e){return e&&e.data?(a(function(e){return{type:n.a.SIGNUP_REWARDS_SUCCESS,data:e}}(e.data)),e):(e&&e.error&&a(i(e.error)),null)}))}}},1264:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(198),c=a(285),l=a(286),s=(a(45),a(803)),i=a.n(s),u=a(1029),m=a(801),b=a(1028),d=a(6),f=a(93),g=a(3),p=a(806),y=a(348);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.default=function(){var e=Object(n.useContext)(c.a),t=Object(n.useContext)(l.a),a=v(Object(n.useState)(!1),2),s=a[0],E=a[1],h=Object(o.d)((function(e){return e.PurchaseAccount})).isPurchaseAccountCreated,C=Object(o.d)((function(e){return e.userSession})).regionDetails,w=v(Object(n.useState)(!1),2),O=w[0],j=w[1],S=Object(o.d)((function(e){return e.userRewards})).serverErrors,N=Object(o.d)((function(e){return e.aem&&e.aem.config&&e.aem.config.signUpConfig?e.aem.config.signUpConfig:{}}));Object(n.useEffect)((function(){d.get(e,"",!1)&&d.get(t,"",!1)&&E(!0)}),[]);var R=Object(o.c)();return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("div",{className:"row"},S&&r.a.createElement(p.a,{message:S,customClass:"custom-msg-block"}),r.a.createElement("div",{className:"purchase-account-confirmation col-lg-8 col-md-10 col-sm-8 col-xs-12"},r.a.createElement("div",{className:"purchase-account-confirmation__row"},r.a.createElement("div",{className:"purchase-account-confirmation__image"},r.a.createElement("img",{src:e.image,alt:"Confirmation"}))),r.a.createElement("div",{className:"purchase-account-confirmation__row"},r.a.createElement("div",{className:"section-title"},e.title),r.a.createElement("div",{className:"section-sub-title col-lg-10 offset-lg-1 col-xs-12 pl-0 pr-0"},h?e.successTitle:e.pendingTitle),r.a.createElement("div",{className:"pendingContent col-lg-10 offset-lg-1 col-xs-12 pl-0 pr-0"},h?i()(e.completedContent):i()(e.pendingContent)),r.a.createElement("div",{className:"purchase-account-confirmation__btn"},C.country===g.a.USCOUNTRY&&r.a.createElement("button",{type:"button",className:"rewardsBtn col-lg-4 col-md-5 col-sm-4 col-xs-12",tabIndex:0,onClick:function(){return j(!0)},onKeyDown:function(e){Object(f.b)(e)&&j(!0)}},e.rewardsCTALabel),r.a.createElement("button",{type:"button",onClick:function(){var e=d.get(N,"signInUrl","/"),t=y.generateRandomCookie(),a=y.getSignInUrl(e,t,!0);window.location.href=a},className:"continueBtn col-lg-4 col-md-5 col-sm-4 col-xs-12"},e.continueCTALabel)))),O&&r.a.createElement(m.a,{size:"",show:O,close:function(){return j(!1)},customClassName:"reward-program-modal",labels:{closeIcon:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/Close.svg")},component:r.a.createElement(b.a,{labels:e.joinRewards,confirm:function(a){var n={};Object.keys(a).map((function(e){return n[e]=a[e].value,!0})),R(Object(u.b)(t.updateRewardsPreferences.requestPayload,n)).then((function(t){j(!1),t&&t.data&&t.data.statusCode.toLowerCase()===g.a.REWARDS_JOIN_SUCCESS&&(window.location.href="".concat(e.joinRewards.redirectionUrl,"#/rewards"))}))}})})))}},801:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(1255),c=a(44),l=a.n(c);t.a=function(e){var t=e.size,a=e.show,n=e.close,c=e.component,s=e.labels,i=e.customClassName,u=e.hide,m="".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","white-overlay"===i?"/icons/close-light.svg":"/icons/close-dark-modal.svg");return r.a.createElement(o.a,{size:t,show:a,backdrop:"static",dialogClassName:l()("reactBootstrapModal",i,{hide:u}),backdropClassName:l()("reactModalBackdrop",{hide:u}),centered:!0},r.a.createElement(o.a.Header,null,"white-overlay"===i&&s.logoIcon&&r.a.createElement("a",{className:"logo-header",href:"/"},r.a.createElement("img",{src:s.logoIcon,alt:"Logo"})),r.a.createElement("button",{type:"button",onClick:n,tabIndex:"0",id:"modalCloseButton","aria-label":"close icon"},r.a.createElement("img",{src:m,alt:"closeIcon",className:"closeIcon"}))),r.a.createElement(o.a.Body,null,c),r.a.createElement("div",{onFocus:function(e){return function(e){e.preventDefault(),document.getElementById("modalCloseButton").focus()}(e)},className:"spaced-div",tabIndex:"0",role:"button"}))}},806:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(2),c=a.n(o),l=a(198),s=a(6),i=a(44),u=a.n(i),m=a(803),b=a.n(m),d=a(3);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e){var t=e.messageType,a=e.icon,n=e.altText,o=e.message,c=e.customClass,i=e.children,m=e.messageBlockRef,g=e.isIconAuthorable,p="ERROR"===t?"error-message":"info-message",y=Object(l.d)((function(e){return e.aem&&e.aem.labels&&e.aem.labels.errorMessages?e.aem.labels.errorMessages:{}})),v=s.get(y,d.a.DEFAULT_ERROR_MSG_CODE,d.a.DEFAULT_ERROR_MESSAGE),E=Object(l.d)((function(e){return e.aem&&e.aem.config&&e.aem.config.globalConfig?e.aem.config.globalConfig:{}})),h=o&&"STRING"===f(o).toUpperCase(),C=g?a:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources").concat(a),w=function(e,t,a){return r.a.createElement("div",{className:"message-block-container pt-2 ".concat(c),role:"alert",key:"message-".concat(t),ref:m},r.a.createElement("div",{className:u()("d-flex flex-row py-3 pl-3 m-0",p)},r.a.createElement("img",{src:C,alt:n,className:"align-self-start"}),r.a.createElement("div",{className:"d-flex flex-column pl-2"},r.a.createElement("p",null,b()(e)," ",i||null),E.enableFELogging&&a&&(a.errorCode||a.type||a.message)&&r.a.createElement(r.a.Fragment,null,(a.errorCode||a.type)&&r.a.createElement("p",{className:"my-2"},"Error code: ",a.errorCode||a.type),a&&a.message&&r.a.createElement("p",{className:"mt-0"},a.message)))))};return r.a.createElement(r.a.Fragment,null,h&&r.a.createElement(r.a.Fragment,null,w(o,0)),o&&o.length>0&&!h&&r.a.createElement(r.a.Fragment,null,o.map((function(e,t){return e.errorCode?w(s.get(y,e.errorCode,v),t,e):w(v,t)}))))};g.defaultProps={customClass:"",messageType:"ERROR",icon:"/icons/caution.svg",altText:"Error information icon",children:"",messageBlockRef:{},isIconAuthorable:!1},g.propTypes={messageType:c.a.string,icon:c.a.string,altText:c.a.string,message:c.a.any.isRequired,customClass:c.a.string,children:c.a.node,messageBlockRef:c.a.object,isIconAuthorable:c.a.bool},t.a=g},808:function(e,t,a){"use strict";var n=a(1),r=a.n(n),o=a(198),c=a(44),l=a.n(c),s=a(93),i=function(e){var t=e.labels,a=e.value,n=e.handleOnChange,o=e.defaultValue,c=e.disabled;return r.a.createElement("div",{className:"checkbox-wrap"},r.a.createElement("input",{id:t.id,name:t.id,className:"form-control",type:"checkbox",value:a,tabIndex:"0",onChange:n,onKeyPress:function(e){Object(s.b)(e)&&n(e)},checked:!1===o||!0===o?o:a,disabled:c,"aria-label":t.label}),r.a.createElement("label",{"aria-label":t.id,htmlFor:t.id,className:"checkbox-label"},r.a.createElement("i",null),r.a.createElement("span",{className:l()({"disabled-checkbox-label":c}),dangerouslySetInnerHTML:{__html:t.label}})))};i.propTypes={};t.a=Object(o.b)((function(e){return{}}))(i)},817:function(e,t){}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{1266:function(e,r,t){"use strict";t.r(r);var a=t(1),o=t.n(a),n=t(2),s=t.n(n),l=t(153),i=t(7),c=t(911),u=t(254),d=t(255),f=t(804),m=t(34),p=t(805),b=t(73),g=t(342),E=t(265),y=t(18),w=t(830);function O(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?O(Object(t),!0).forEach((function(r){h(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function h(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var R=function(e){return{type:E.a,error:e}},P=function(e){return{type:E.d,error:e}},j=function(e){return function(r,t){return r({type:E.c}),Object(y.a)({url:e.url,method:e.method,data:v({},e.resetPasswordFormData)}).then((function(e){if(e.status>=200&&e.status<400){var a=t().aem.config.globalConfig.homePageUrl;return window.location.href=a,r((o=e.data,{type:E.b,response:o})),e.data}var o;return e.error?(r(R(e.error)),e.error):null})).catch((function(e){r(R(e.message))}))}};function _(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?_(Object(t),!0).forEach((function(r){N(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function N(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function T(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],a=!0,o=!1,n=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(t.push(s.value),!r||t.length!==r);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw n}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return C(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return C(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var D=function(e){var r=e.submitResetPasswordDetails,t=e.redirectUrl,n=e.errorMsg,s=e.validatePasswordToken,l=Object(a.useContext)(u.a),b=Object(a.useContext)(d.a),g=T(Object(a.useState)(!1),2),E=g[0],y=g[1],w=T(Object(a.useState)(!0),2),O=w[0],v=w[1],h=T(Object(a.useState)(!1),2),R=h[0],P=h[1],j={firstNameValue:Object(c.a)("firstName"),lastNameValue:Object(c.a)("lastName"),token:Object(c.a)("token")},_=j.firstNameValue,N=j.lastNameValue,C=j.token;Object(a.useEffect)((function(){if(t&&(window.location=l.resetPasswordRedirectUrl),C){var e={};e.token=C,s(S(S({},b.validatePasswordToken),{},{reqObj:e}))}}),[]);var D={firstName:{labels:{id:"firstName"},config:{inputType:"hidden",visible:!0,tooltip:!1,validations:{required:!1}},value:_,error:""},lastName:{labels:{id:"lastName"},config:{inputType:"hidden",visible:!0,tooltip:!1,validations:{required:!1}},value:N,error:""},password:{labels:{id:"password",label:l.createPwdLabel,mandatoryError:l.passwordError,error:l.passwordPatternError,passwordFLNameError:l.passwordFLNameError,tooltipText:"",passwordRuleLabels:l.passwordRuleLabels},config:{passwordChecks:{lengthCheck:!1,letterCheck:!1,numberCheck:!1,symbolCheck:!1},visible:!0,inputType:"password",tooltip:!0,validations:{required:!0,regEx:"^(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{7,}$",type:"password",passwordMatched:!1},widthModifier:"col__full"},value:"",error:""},confPassword:{labels:{id:"confPassword",label:l.confirmPwdLabel,mandatoryError:l.confPasswordError,error:l.confPasswordNotMatchError,tooltipText:""},config:{inputType:"password",visible:!0,tooltip:!1,validations:{required:!0,type:"confPassword",passwordMatched:!1},widthModifier:"col__full"},value:"",error:""}},k=T(Object(a.useState)(D),2),A=k[0],I=k[1],M=Object.values(A);Object(a.useEffect)((function(){i.get(l,"",!1)&&i.get(b,"",!1)&&(y(!0),v(!0))}),[l,b]);Object(a.useEffect)((function(){R&&v(Object.keys(A).some((function(e){var r=A[e].config.validations.required,t=A[e].value,a=A[e].error;return r&&!t||a})))}),[A,R]);return o.a.createElement(o.a.Fragment,null,E&&o.a.createElement("div",{className:"reset-password-page d-flex justify-content-center"},o.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 col-xs-12 mx-4"},o.a.createElement("h2",null,l.title),n&&o.a.createElement(p.a,{message:n,customClass:"custom-msg-block my-3"}),o.a.createElement("h4",{className:"my-4"},l.subTitle),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={};t.newPassword=A.password.value,t.token=C,r(S(S({},b.postResetPasswordPayload),{},{resetPasswordFormData:t}))}},o.a.createElement("div",{className:"reset-password-page__row col-lg__12-12  col-sm__12-12"},M.map((function(e){return o.a.createElement(f.a,{className:"sign-up-page__row-field",key:e.labels.id,inputType:e.config.inputType,widthModifier:e.config.widthModifier,labels:e.labels,config:e.config,value:e.value,error:e.error,visible:e.config.visible,handleOnBlur:function(r){return t=e.labels.id,a=S({},A),o=S({},a[t]),n=m.a(o,a),"confPassword"===t&&(o.config.validations.passwordMatched=!n.errorMsg),o.error=n.errorMsg,o.config.passwordChecks=S({},n.passwordChecks),a[t]=o,void I(a);var t,a,o,n},handleOnChange:function(r){!function(e,r){P(!0);var t=e.target.value,a=S({},A),o=S(S({},a[r]),{},{value:t}),n=m.a(o,a);o.error=n.errorMsg,o.config.passwordChecks=S({},n.passwordChecks),"confPassword"===r&&(o.config.validations.passwordMatched=!n.errorMsg),o.value=t,a[r]=o,I(a)}(r,e.labels.id)}})}))),o.a.createElement("div",{className:"reset-password-page__row-buttons"},o.a.createElement("button",{type:"submit",className:"btn btn-primary-blue btn-lg col__full",disabled:O},l.resetPasswordBtnLabel))))))};D.defaultProps={redirectUrl:!1,errorMsg:""},D.propTypes={submitResetPasswordDetails:s.a.func.isRequired,redirectUrl:s.a.bool,errorMsg:s.a.string,validatePasswordToken:s.a.func.isRequired};r.default=Object(l.b)((function(e){return{redirectUrl:e.resetPwd.redirectUrl,errorMsg:e.resetPwd.error}}),(function(e){return{submitResetPasswordDetails:function(r){return e(j(r))},validatePasswordToken:function(r){return e(function(e){return function(r,t){return Object(y.a)({url:e.url,method:e.method,data:v({},e.reqObj)}).then((function(e){if(e.status>=200&&e.status<400)return e.data;if(e.error){var a,o=e.error[0]&&e.error[0].errorCode?e.error[0]:{},n=o.errorCode,s=o.message;if(n===w.a.RESET_PASSWORD_TOKEN_EXPIRED||n===w.a.RESET_PASSWORD_INVALID_TOKEN){var l=t().aem.labels.errorMessages,c=t().aem.config.globalConfig.signInUrl,u=g.generateRandomCookie(),d=g.getSignInUrl(c,u,!0),f=i.get(l,n,s);a=Object(b.f)(f,"{signinLink}",d)}return r(P(a||e.error)),e.error}return null})).catch((function(e){r(P(e.message))}))}}(r))}}}))(D)},805:function(e,r,t){"use strict";var a=t(1),o=t.n(a),n=t(2),s=t.n(n),l=t(153),i=t(7),c=t(72),u=t.n(c),d=t(802),f=t.n(d),m=t(6);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e){var r=e.messageType,t=e.icon,a=e.altText,n=e.message,s=e.customClass,c=e.children,d=e.messageBlockRef,b=e.isIconAuthorable,g="ERROR"===r?"error-message":"info-message",E=Object(l.d)((function(e){return e.aem&&e.aem.labels&&e.aem.labels.errorMessages?e.aem.labels.errorMessages:{}})),y=i.get(E,m.a.DEFAULT_ERROR_MSG_CODE,m.a.DEFAULT_ERROR_MESSAGE),w=n&&"STRING"===p(n).toUpperCase(),O=b?t:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources").concat(t),v=function(e,r,t){return o.a.createElement("div",{className:"message-block-container pt-2 ".concat(s),role:"alert",key:"message-".concat(r),ref:d},o.a.createElement("div",{className:u()("d-flex flex-row py-3 pl-3 m-0",g)},o.a.createElement("img",{src:O,alt:a,className:"align-self-start"}),o.a.createElement("div",{className:"d-flex flex-column pl-2"},o.a.createElement("p",null,f()(e)," ",c||null),t&&(t.errorCode||t.type||t.message)&&o.a.createElement(o.a.Fragment,null,(t.errorCode||t.type)&&o.a.createElement("p",{className:"my-2"},"Error code: ",t.errorCode||t.type),t&&t.message&&o.a.createElement("p",{className:"mt-0"},t.message)))))};return o.a.createElement(o.a.Fragment,null,w&&o.a.createElement(o.a.Fragment,null,v(n,0)),n&&n.length>0&&!w&&o.a.createElement(o.a.Fragment,null,n.map((function(e,r){return e.errorCode?v(i.get(E,e.errorCode,y),r,e):v(y,r)}))))};b.defaultProps={customClass:"",messageType:"ERROR",icon:"/icons/caution.svg",altText:"Error information icon",children:"",messageBlockRef:{},isIconAuthorable:!1},b.propTypes={messageType:s.a.string,icon:s.a.string,altText:s.a.string,message:s.a.any.isRequired,customClass:s.a.string,children:s.a.node,messageBlockRef:s.a.object,isIconAuthorable:s.a.bool},r.a=b},830:function(e,r,t){"use strict";r.a={EXCEL_INVALID_FORMAT:"DE405",EXCEL_INVALID_SHEETS:"DE406",DROPSHIP_ADDRESS_ERROR:"CE110",NO_GRANTS_ERROR_CODE:"GE4600",INVALID_GRANT_ERROR_CODE:"GE4601",INSUFFICIENT_GRANT_ERROR_CODE:"GE4603",EXCEEDED_MAX_LIMIT:"SC138",RESET_PASSWORD_INVALID_TOKEN:"AM800",RESET_PASSWORD_TOKEN_EXPIRED:"AM801"}},911:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));function a(e,r){r||(r=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(r);return!!t&&(!!t[2]&&decodeURIComponent(t[2].replace(/\+/g," ")))}}}]);
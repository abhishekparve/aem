(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{836:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),r=n(2),i=n.n(r),o=n(6),c=n.n(o),s=n(198),u=n(152),d=n(9);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,l=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var m=function(e){var t,n,a,r=e.selectedFile,i=e.labels,o=e.config,s=e.handleClose,u=e.handleOnError,d=(t=o.allowedFileExt,n=o.maxFileSizeInMB,a=new RegExp("(".concat(t.join("|\\"),")$")),r.size/1024/1024<=n&&a.test((r.name||"").toLowerCase()));return u(d),r.name&&d?l.a.createElement("div",{className:"file-upload__info d-flex justify-content-between"},l.a.createElement("div",{className:"file-upload__info-file-name  d-flex align-items-center"},l.a.createElement("img",{src:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/file-upload.svg"),alt:"File Upload"}),r.name),l.a.createElement("button",{type:"button",onClick:s,disabled:o.disabled,className:"file-upload__info-close","aria-label":c.a.get(i,"removeAttachmentLabel","Remove Attachment")},l.a.createElement("img",{src:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/Close.svg"),alt:""}))):r.name&&!d?l.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.note):""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(u.a)(void 0,{}),t=e.config,n=e.labels,r=e.sectionwidthModifier,i=e.handleOnChange,o=e.isTitleRequired,c=void 0===o||o,b=e.handleOnError,p=n.fileUploadLabels,v=t.fileUploadConfig,g=Object(s.c)(),E=Object(a.useState)({}),h=f(E,2),y=h[0],_=h[1],N=Object(a.useState)(null),O=f(N,2),w=O[0],D=O[1],C=function(){y.click()},j=function(e){D(e[0])},A=function(e){j(e.target.files),i(e)},S=function(e){e.preventDefault(),e.stopPropagation()},T=function(e){e.preventDefault(),e.stopPropagation()},F=function(e){e.preventDefault(),e.stopPropagation()},R=function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files;t&&1===t.length&&(j(t),i(e),e.dataTransfer.clearData())},x=function(e){e.preventDefault(),D(null),y.value="",b()};return l.a.createElement("div",{className:"file-upload ".concat(r)},c&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",{className:"title"}," ",p.fieldTitle),l.a.createElement("p",{className:"info"}," ",p.info)),l.a.createElement("div",{className:"file-upload__content text-center",onDragOver:S,onDragEnter:T,onDragLeave:F,onDrop:R},l.a.createElement("div",{className:"file-upload__content-icon"},!t.disabled&&l.a.createElement("img",{src:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/upload.svg"),alt:"File icon"}),t.disabled&&l.a.createElement("img",{src:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/upload-disabled.svg"),alt:"File Upload disabled"})),l.a.createElement("div",{className:"file-upload__content-title"},p.title),l.a.createElement("div",{className:"file-upload__content-note"},p.note),l.a.createElement("div",{className:"file-upload__content-btn"},l.a.createElement("input",{type:"file",className:"d-none",ref:function(e){return _(e)},onChange:A}),l.a.createElement("button",{type:"button",onClick:C,className:"btn btn-secondary btn-lg","aria-label":p.btnName,disabled:t.disabled},p.btnName))),w&&l.a.createElement(m,{labels:p,config:v,selectedFile:w,handleClose:function(e){x(e),g({type:d.a.RESET_BULK_ADD_TO_CART_ERROR})},handleOnError:b}))};p.defaultProps={handleOnError:function(){}},p.propTypes={handleOnError:i.a.func},t.default=p}}]);
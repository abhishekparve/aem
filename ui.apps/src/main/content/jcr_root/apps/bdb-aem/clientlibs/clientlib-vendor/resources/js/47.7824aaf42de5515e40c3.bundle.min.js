(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{817:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(198),c=n(45),l=n.n(c),i=n(802),u=n.n(i),s=n(3);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.labels,n=e.config,c=e.value,i=e.handleOnChange,b=e.customClass,f=d(Object(r.useState)(!1),2),p=f[0],m=f[1],_=d(Object(r.useState)(!1),2),w=_[0],h=_[1],E=d(Object(r.useState)(!1),2),v=E[0],y=E[1],O=d(Object(r.useState)(0),2),g=O[0],C=O[1],A=d(Object(r.useState)(""),2),j=A[0],k=A[1],D=d(Object(r.useState)(""),2),S=D[0],N=D[1],K=d(Object(r.useState)(n.options),2),T=K[0],R=K[1],I=Object(o.d)((function(e){return e.aem.labels.globalLabels.noResult})),Y=Object(r.useRef)([]),x=[];Object(r.useEffect)((function(){void 0!==T&&0!==T.length||R(n.options);var e=function(e){if(void 0===T||0===T.length||!c)return t.label;var n=T.filter((function(t){return t.id.toUpperCase()===e.toUpperCase()}));return n.length>0?n[0].label:t.label}(c);N(e)}),[c,T,n.options]);var U=function(){R(n.options),m(!p),h(!1),y(!0),setTimeout((function(){var e=document.getElementById("".concat(t.id));e&&e.focus()}),50)},B=function(){R(n.options),y(!1),k(""),m(!1),h(!1)},L=function(e){B(),N(e.label),i(e.id)},W=function(){var e,r,a,o=document.getElementById("".concat(t.id));o&&(o.focus(),e=n.options,r=o.value,a="",a=""!==r?r.charAt(0):"",x=e.filter((function(e){return e.label.toLowerCase().charAt(0)===a})),R(x),x.length>0?(h(!1),m(!0)):(h(!0),m(!1)))};return a.a.createElement("div",{className:"form-field"},a.a.createElement("div",{className:l()("custom-dropdown",{" active ":c},b)},a.a.createElement("div",{className:"custom-dropdown__wrapper is-input-focus",onMouseLeave:B},a.a.createElement("div",{className:"custom-dropdown__header",role:"button",tabIndex:"0","aria-expanded":p,"aria-haspopup":"true",onClick:U,onKeyDown:function(e){return function(e){if(e)switch(e.which?e.which:e.keyid){case s.a.ENTER_KEY_CODE:U(),e.preventDefault();break;case s.a.TAB_KEY_CODE:p?setTimeout((function(){Y.current.length>0&&Y.current[0]&&(Y.current[0].focus(),C(0))}),100):B();break;case s.a.ESC_KEY_CODE:h(!1),B();break;case s.a.BACKSPACE_KEY_CODE:k(j.substring(0,j.length-1)),y(!0),setTimeout((function(){W()}),100)}}(e)},onKeyUp:function(e){return function(e){if(e){var t=e.which?e.which:e.keyid;(t>64&&t<91||t>=48&&t<=57)&&(k(j+e.key),y(!0),setTimeout((function(){W()}),100))}e.preventDefault()}(e)},"aria-label":w?I:S},a.a.createElement("div",{className:l()("custom-dropdown__header__title size-lg",{"select-option-label":b===s.a.AREA_OF_INQUIRY&&S===t.label,"is-input-focus":v})},v?"":u()(S),v&&a.a.createElement("input",{"aria-label":t.label,id:t.id,name:t.id,className:"form-control",type:"text",autoComplete:"none",placeholder:t.label,value:j}),v&&t.label&&a.a.createElement("label",{"aria-label":t.id,htmlFor:t.id},t.label)),p&&a.a.createElement("img",{src:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/arrow-up.svg"),alt:"upArrow"}),!p&&a.a.createElement("img",{src:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources","/icons/dropdown-arrow-down.svg"),alt:"DownArrow"})),T&&p&&a.a.createElement("ul",{className:"custom-dropdown__wrapper__list",role:"listbox","aria-labelledby":"custom-dropdown__wrapper__list"},T.map((function(e,t){return a.a.createElement("li",{key:t,className:l()("custom-dropdown__wrapper__list__item",{"custom-dropdown_selected":c===e.id}),onKeyDown:function(t){!function(e,t,n){if(e){var r=e.which?e.which:e.keyid,a=g,o=T.length;switch(r){case s.a.UP_ARROW_KEY_CODE:a>0&&a<=o&&(a-=1,Y.current[a].focus(),C(a));break;case s.a.DOWN_ARROW_KEY_CODE:a>=0&&a<o&&(a+=1,Y.current[a].focus(),C(a));break;case s.a.ENTER_KEY_CODE:L(n),e.preventDefault();break;case s.a.TAB_KEY_CODE:e.currentTarget===Y.current[o-1]&&B()}}}(t,0,e)},onClick:function(){return L(e)},"aria-selected":c===e.id,"aria-label":c===e.id?"selected".concat(e.label):"",role:"option",tabIndex:p?0:-1,ref:function(e){Y.current[t]=e}},u()(e.label))}))),w&&a.a.createElement("div",{className:"custom-dropdown__wrapper__no-result"},a.a.createElement("span",{className:"custom-dropdown__wrapper__no-result__item","aria-label":I},I)))))};f.propTypes={};t.default=Object(o.b)((function(e){return{}}))(f)},829:function(e,t){}}]);
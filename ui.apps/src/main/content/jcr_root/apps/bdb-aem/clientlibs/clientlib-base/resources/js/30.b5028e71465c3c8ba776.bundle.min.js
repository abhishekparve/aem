(window.webpackJsonp=window.webpackJsonp||[]).push([[30,59],{1297:function(e,r,t){"use strict";t.r(r);var a=t(1),o=t.n(a),n=t(2),s=t.n(n),c=t(150),i=t(8),l=t(904),u=t(248),f=t(249),d=t(798),p=t(39),b=t(800),m=t(260),g=t(17);function y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?y(Object(t),!0).forEach((function(r){v(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var O=function(e){return{type:m.a,error:e}},h=function(e){return function(r,t){return r({type:m.c}),Object(g.a)({url:e.url,method:e.method,data:w({},e.resetPasswordFormData)}).then((function(e){if(e.status>=200&&e.status<400){var a=t().aem.config.globalConfig.homePageUrl;return window.location.href=a,r((o=e.data,{type:m.b,response:o})),e.data}var o;return e.error?(r(O(e.error)),e.error):null})).catch((function(e){r(O(e.message))}))}};function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){E(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function E(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function k(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],a=!0,o=!1,n=void 0;try{for(var s,c=e[Symbol.iterator]();!(a=(s=c.next()).done)&&(t.push(s.value),!r||t.length!==r);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw n}}return t}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return N(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return N(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}var C=function(e){var r=e.submitResetPasswordDetails,t=e.redirectUrl,n=e.errorMsg,s=Object(a.useContext)(u.a),c=Object(a.useContext)(f.a),m=k(Object(a.useState)(!1),2),g=m[0],y=m[1],w=k(Object(a.useState)(!0),2),v=w[0],O=w[1],h=k(Object(a.useState)(!1),2),j=h[0],E=h[1];Object(a.useEffect)((function(){t&&(window.location=s.resetPasswordRedirectUrl)}),[]);var N={firstNameValue:Object(l.a)("firstName"),lastNameValue:Object(l.a)("lastName"),token:Object(l.a)("token")},C=N.token,R={firstName:{labels:{id:"firstName"},config:{inputType:"hidden",visible:!0,tooltip:!1,validations:{required:!1}},value:N.firstNameValue,error:""},lastName:{labels:{id:"lastName"},config:{inputType:"hidden",visible:!0,tooltip:!1,validations:{required:!1}},value:N.lastNameValue,error:""},password:{labels:{id:"password",label:s.createPwdLabel,mandatoryError:s.passwordError,error:s.passwordPatternError,passwordFLNameError:s.passwordFLNameError,tooltipText:"",passwordRuleLabels:s.passwordRuleLabels},config:{passwordChecks:{lengthCheck:!1,letterCheck:!1,numberCheck:!1,symbolCheck:!1},visible:!0,inputType:"password",tooltip:!0,validations:{required:!0,regEx:"^(?=.*d)(?=.*[a-z])(?=.*[A-Z]).{7,}$",type:"password",passwordMatched:!1},widthModifier:"col__full"},value:"",error:""},confPassword:{labels:{id:"confPassword",label:s.confirmPwdLabel,mandatoryError:s.confPasswordError,error:s.confPasswordNotMatchError,tooltipText:""},config:{inputType:"password",visible:!0,tooltip:!1,validations:{required:!0,type:"confPassword",passwordMatched:!1},widthModifier:"col__full"},value:"",error:""}},S=k(Object(a.useState)(R),2),T=S[0],M=S[1],x=Object.values(T);Object(a.useEffect)((function(){i.get(s,"",!1)&&i.get(c,"",!1)&&(y(!0),O(!0))}),[s,c]);Object(a.useEffect)((function(){j&&O(Object.keys(T).some((function(e){var r=T[e].config.validations.required,t=T[e].value,a=T[e].error;return r&&!t||a})))}),[T,j]);return o.a.createElement(o.a.Fragment,null,g&&o.a.createElement("div",{className:"reset-password-page d-flex justify-content-center"},o.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-6 col-xs-12 mx-4"},o.a.createElement("h2",null,s.title),n&&o.a.createElement(b.a,{message:n,customClass:"custom-msg-block"}),o.a.createElement("h4",{className:"my-4"},s.subTitle),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={};t.newPassword=T.password.value,t.token=C,r(P(P({},c.postResetPasswordPayload),{},{resetPasswordFormData:t}))}},o.a.createElement("div",{className:"reset-password-page__row col-lg__12-12  col-sm__12-12"},x.map((function(e){return o.a.createElement(d.a,{className:"sign-up-page__row-field",key:e.labels.id,inputType:e.config.inputType,widthModifier:e.config.widthModifier,labels:e.labels,config:e.config,value:e.value,error:e.error,visible:e.config.visible,handleOnBlur:function(r){return t=e.labels.id,a=P({},T),o=P({},a[t]),n=p.a(o,a),"confPassword"===t&&(o.config.validations.passwordMatched=!n.errorMsg),o.error=n.errorMsg,o.config.passwordChecks=P({},n.passwordChecks),a[t]=o,void M(a);var t,a,o,n},handleOnChange:function(r){!function(e,r){E(!0);var t=e.target.value,a=P({},T),o=P({},a[r]),n=p.a(o,a);o.error=n.errorMsg,o.config.passwordChecks=P({},n.passwordChecks),o.value=t,a[r]=o,M(a)}(r,e.labels.id)}})}))),o.a.createElement("div",{className:"reset-password-page__row-buttons"},o.a.createElement("button",{type:"submit",className:"btn btn-primary-blue btn-lg col__full",disabled:v},s.resetPasswordBtnLabel))))))};C.defaultProps={redirectUrl:!1,errorMsg:""},C.propTypes={submitResetPasswordDetails:s.a.func.isRequired,redirectUrl:s.a.bool,errorMsg:s.a.string};r.default=Object(c.b)((function(e){return{redirectUrl:e.resetPwd.redirectUrl,errorMsg:e.resetPwd.error}}),(function(e){return{submitResetPasswordDetails:function(r){return e(h(r))}}}))(C)},800:function(e,r,t){"use strict";var a=t(1),o=t.n(a),n=t(2),s=t.n(n),c=t(150),i=t(8),l=t(67),u=t.n(l),f=t(807),d=t.n(f);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(e){var r=e.messageType,t=e.icon,a=e.altText,n=e.message,s=e.customClass,l=e.children,f=e.messageBlockRef,b=e.isIconAuthorable,m="ERROR"===r?"error-message":"info-message",g=Object(c.d)((function(e){return e.aem&&e.aem.labels&&e.aem.labels.errorMessages?e.aem.labels.errorMessages:{}})),y=n&&"STRING"===p(n).toUpperCase(),w=b?t:"".concat("/etc.clientlibs/bdb-aem/clientlibs/clientlib-base/resources").concat(t),v=function(e,r){return o.a.createElement("div",{className:"message-block-container pt-2 ".concat(s),role:"alert",key:"message-".concat(r),ref:f},o.a.createElement("div",{className:u()("d-flex flex-row py-3 pl-3 m-0",m)},o.a.createElement("img",{src:w,alt:a}),o.a.createElement("p",{className:"pl-2"},d()(e)," ",l||null)))};return o.a.createElement(o.a.Fragment,null,y&&o.a.createElement(o.a.Fragment,null,v(n,0)),n&&n.length>0&&!y&&o.a.createElement(o.a.Fragment,null,n.map((function(e,r){return v(i.get(g,e.errorCode,e.message),r)}))))};b.defaultProps={customClass:"",messageType:"ERROR",icon:"/icons/caution.svg",altText:"Error information icon",children:"",messageBlockRef:{},isIconAuthorable:!1},b.propTypes={messageType:s.a.string,icon:s.a.string,altText:s.a.string,message:s.a.any.isRequired,customClass:s.a.string,children:s.a.node,messageBlockRef:s.a.object,isIconAuthorable:s.a.bool},r.a=b},830:function(e,r){},846:function(e,r,t){"use strict";var a=function(){};e.exports=a},904:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));function a(e,r){r||(r=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(r);return!!t&&(!!t[2]&&decodeURIComponent(t[2].replace(/\+/g," ")))}}}]);